# 赛博禅师 - 数字木鱼与智慧对话系统

![禅师木鱼](images/woodfish.png)

一个结合数字木鱼敲击与禅师智慧对话的静心应用。通过敲击木鱼积累功德，获得与禅师对话的机会，寻求内心的平静与智慧。

## 功能特点

- **数字木鱼**：敲击木鱼积累功德，伴随优美音效和视觉反馈
- **功德计数**：记录敲击次数，显示浮动的功德数字效果
- **禅师对话**：积累足够功德后，可与智慧禅师对话，寻求生活指引
- **快速访问**：通过右上角"禅房"按钮，可直接进入禅师对话界面
- **AI驱动**：接入SiliconFlow API，提供高质量的禅宗风格回答
- **优雅降级**：内置本地智慧库，即使无法连接API也能正常使用

## 安装使用

### 前提条件

- [Node.js](https://nodejs.org/) (v14.0.0或更高版本)
- npm或yarn包管理器
- [可选] SiliconFlow API密钥（用于高级AI功能）

### 安装步骤

1. **克隆或下载项目**

2. **安装依赖**
```bash
npm install
```

3. **配置环境变量**
```bash
# 创建.env文件
touch .env

# 在.env文件中添加你的API密钥
echo "API_KEY=你的SiliconFlow API密钥" > .env
```

4. **启动服务器**
```bash
npm start
```

5. **访问应用**
在浏览器中打开: http://localhost:3000

### API配置（可选）

本应用可以连接到SiliconFlow AI以提供更高质量的禅师回答。

1. 在[SiliconFlow官网](https://docs.siliconflow.cn/)注册并获取API密钥
2. 将API密钥添加到项目根目录下的`.env`文件中:
```
API_KEY=你的SiliconFlow API密钥
```

## 技术架构

- **前端**：HTML5, CSS3, JavaScript (原生)
- **后端**：Node.js, Express
- **API**：SiliconFlow LLM API (DeepSeek-V3模型)
- **本地功能**：内置禅师智慧库，关键词匹配系统

## 使用指南

### 木鱼功能

1. 打开应用首页，会看到一个木鱼图像
2. 点击或触摸木鱼，每次点击会:
   - 播放敲击音效
   - 显示功德+1的动画效果
   - 增加功德计数
3. 累积49功德后，自动进入禅师对话界面
4. 也可以直接点击右上角的"禅房"按钮，立即进入禅师对话界面

### 禅师对话

1. 在对话框中输入你的困惑或问题
2. 点击发送按钮或按回车键提交
3. 禅师会以富有禅宗智慧的方式回答你的问题
4. 可以通过左上角的返回按钮回到木鱼页面

## 本地智慧库

当无法连接AI服务时，系统会自动使用本地智慧库提供回答。本地库包含:

- 10条通用禅宗智慧语录
- 针对"痛苦"、"烦恼"、"迷茫"和"压力"等常见问题的专门回答
- 智能匹配系统，根据问题关键词提供相关回答

## 常见问题

**Q: 为什么需要启动服务器？**
A: 服务器用于代理API请求并提供本地回退功能，确保稳定的用户体验。

**Q: 没有API密钥可以使用吗？**
A: 可以。没有API密钥时，系统会使用本地智慧库提供回答。

**Q: 如何增加更多本地回答？**
A: 编辑`server.js`文件中的`getZenResponse`函数，添加新的回答和关键词匹配规则。

**Q: 必须敲击木鱼才能与禅师对话吗？**
A: 不必。虽然敲击木鱼积累功德是一种静心方式，但你也可以通过首页右上角的"禅房"按钮直接进入对话界面。

## 许可协议

本项目采用MIT许可证。详见[LICENSE](LICENSE)文件。

## 致谢

- 音效来源: [耳聆网](https://www.ear0.com/)
- 背景图片: 免费商用图库
- API支持: [SiliconFlow](https://docs.siliconflow.cn/)

---

愿这个小小的应用能帮助你放下执念，静心思考，找到内心的平静。

阿弥陀佛 🙏 